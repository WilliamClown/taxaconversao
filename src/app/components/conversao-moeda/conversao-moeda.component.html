<div class="page-container">
    <h1 class="page-title">Convers찾o de Moeda</h1>
    <mat-card class="mat-elevation-z4 conversao-card">
      <mat-card-content>
        <form class="conversion-form" (ngSubmit)="realizarConversao()">
            <div class="form-group">
              <mat-form-field appearance="fill" class="form-field">
                <mat-label>Valor</mat-label>
                <input matInput type="number" [(ngModel)]="valor" name="valor" required />
              </mat-form-field>
              <mat-form-field appearance="fill" class="form-field">
                <mat-label>Moeda de Origem</mat-label>
                <mat-select [(ngModel)]="moedaOrigem" name="moedaOrigem" required>
                  <mat-option value="Ouro Real">Ouro Real</mat-option>
                  <mat-option value="Tibar">Tibar</mat-option>
                </mat-select>
              </mat-form-field>
              <mat-form-field appearance="fill" class="form-field">
                <mat-label>Moeda de Destino</mat-label>
                <mat-select [(ngModel)]="moedaDestino" name="moedaDestino" required>
                  <mat-option value="Ouro Real">Ouro Real</mat-option>
                  <mat-option value="Tibar">Tibar</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="button-container">
              <button mat-raised-button color="primary" type="submit">
                Converter
              </button>
            </div>
        </form>          
  
        <!-- Resultado da Convers찾o -->
        <div *ngIf="resultado !== null" class="resultado">
          <p>
            <strong>Resultado:</strong> {{ valor }} {{ moedaOrigem }} equivale a
            {{ resultado | number: '1.2-2' }} {{ moedaDestino }} (Taxa: {{ taxaAtual }})
          </p>
        </div>
      </mat-card-content>
    </mat-card>
  
    <mat-card class="mat-elevation-z4 table-card">
        <mat-card-content>
          <h2 class="table-title">Hist처rico de Convers천es</h2>
          <mat-table [dataSource]="dataSource" class="mat-elevation-z1">
          <ng-container matColumnDef="id">
            <mat-header-cell *matHeaderCellDef>ID</mat-header-cell>
            <mat-cell *matCellDef="let conversao">{{ conversao.id }}</mat-cell>
          </ng-container>

           <!-- Coluna Origem -->  
          <ng-container matColumnDef="moedaOrigem">
            <mat-header-cell *matHeaderCellDef>Moeda de Origem</mat-header-cell>
                <mat-cell *matCellDef="let conversao">{{ conversao.moedaOrigem }}</mat-cell>
          </ng-container>
  
          <ng-container matColumnDef="moedaDestino">
            <mat-header-cell *matHeaderCellDef>Moeda de Destino</mat-header-cell>
            <mat-cell *matCellDef="let conversao">{{ conversao.moedaDestino }}</mat-cell>
          </ng-container>
  
          <ng-container matColumnDef="valor">
            <mat-header-cell *matHeaderCellDef>Valor</mat-header-cell>
            <mat-cell *matCellDef="let conversao">{{ conversao.valor | number: '1.2-2' }}</mat-cell>
          </ng-container>
  
          <ng-container matColumnDef="taxa">
            <mat-header-cell *matHeaderCellDef>Taxa</mat-header-cell>
            <mat-cell *matCellDef="let conversao">{{ conversao.taxa | number: '1.2-2' }}</mat-cell>
          </ng-container>
  
          <ng-container matColumnDef="dataHora">
            <mat-header-cell *matHeaderCellDef>Data e Hora</mat-header-cell>
            <mat-cell *matCellDef="let conversao">{{ conversao.dataHora | date: 'short' }}</mat-cell>
          </ng-container>
  
          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>
        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
      </mat-card-content>
    </mat-card>
  </div>
  